
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://streetpea.github.io/chiaki4deck/setup/automation/">
      
      <link rel="icon" href="../../images/chiaki.svg">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.0">
    
    
      
        <title>Automation - chiaki4deck</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-LCLEDWLWSR"),document.addEventListener("DOMContentLoaded",function(){if(document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document.forms.feedback){var e,a=document.forms.feedback;for(e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}"undefined"!=typeof location$&&location$.subscribe(function(e){n("config","G-LCLEDWLWSR",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-LCLEDWLWSR",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#automating-chiaki4deck-launch" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="chiaki4deck" class="md-header__button md-logo" aria-label="chiaki4deck" data-md-component="logo">
      
  <img src="../../images/chiaki.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            chiaki4deck
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Automation
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/streetpea/chiaki4deck" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Setup
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../updates/" class="md-tabs__link">
        Updates
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../diy/buildit/" class="md-tabs__link">
        DIY
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../print_page/" class="md-tabs__link">
      Print Site
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="chiaki4deck" class="md-nav__button md-logo" aria-label="chiaki4deck" data-md-component="logo">
      
  <img src="../../images/chiaki.svg" alt="logo">

    </a>
    chiaki4deck
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/streetpea/chiaki4deck" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Setup</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Automation
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../steaming/" class="md-nav__link">
        Game (Mode) Time
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../controlling/" class="md-nav__link">
        Controller Options
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../updates/">Updates</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Updates" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Updates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/done/" class="md-nav__link">
        Done
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/planned/" class="md-nav__link">
        Planned
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          DIY
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DIY" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          DIY
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/buildit/" class="md-nav__link">
        Building the Flatpak Yourself
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../print_page/" class="md-nav__link">
        Print Site
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/streetpea/chiaki4deck/edit/chiaki4deck/docs/setup/automation.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="automating-chiaki4deck-launch">Automating <code>chiaki4deck</code> Launch<a class="headerlink" href="#automating-chiaki4deck-launch" title="Permanent link">&para;</a></h1>
<p>Now that you have <code>chiaki4deck</code> configured, it's time to make it wake up your PlayStation and connect to it automatically. </p>
<div class="admonition info">
<p class="admonition-title">So Why Should I Care?</p>
<p>This is especially convenient for the Steam Deck's <code>Game Mode</code> where an automated launch eliminates both the need to tap furiously at your touchscreen to launch the application and the glitches that would arise (flashes on your screen) when it would switch between the 2 open Chiaki windows (since only 1 window is opened with the automated launch).</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Sleep Mode Required</p>
<p>For this to work, your PlayStation needs to either be in rest/sleep mode or on (so that it is listening for the wake up signal). This means you will want to keep your PlayStation in rest/sleep mode when you are not playing (instead of off).</p>
</div>
<ol>
<li>
<p>Open a <code>konsole</code> session (launch it via <code>Applications</code> by clicking the Steam icon in the bottom left and searching for it in the <code>All Applications</code> section)</p>
</li>
<li>
<p>Get your PlayStation IP</p>
<ol>
<li>
<p>Get your registered PlayStation's IP Address</p>
<ol>
<li>
<p>Launch Chiaki via your desktop or via:</p>
<div class="highlight"><pre><span></span><code>flatpak run re.chiaki.Chiaki4deck
</code></pre></div>
</li>
<li>
<p>Get your IP address via the console widget and then close the window and return to the <code>konsole</code> session</p>
<p><img alt="IP Address" src="../images/GetAddress.png" /></p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Create script for waking PlayStation and launching Chiaki</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Automated Instructions (Recommended)</label><label for="__tabbed_1_2">Manual Instructions (For People who like to do things by hand)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>
<p>Run the <a href="https://raw.githubusercontent.com/streetpea/chiaki4deck/main/scripts/gen-launcher.sh" rel="noopener noreferrer" target="_blank">gen-launcher script</a> using the following command in your <code>konsole</code> and answer the prompts (you will need your IP address from step 2 above)</p>
<div class="highlight"><pre><span></span><code>bash &lt;<span class="o">(</span>curl -sLo- https://raw.githubusercontent.com/streetpea/chiaki4deck/main/scripts/gen-launcher.sh<span class="o">)</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">What Do the Different Modes (i.e. fullscreen [uses Normal], zoom, stretch) Look Like?</p>
<p>To see examples of the different launch modes, visit the <a href="../../updates/done/#3-view-modes-for-non-standard-screen-sizes" rel="noopener noreferrer" target="_blank">Updates section</a></p>
</div>
<details class="- example">
<summary>Example Output [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>Enter Your Playstation Console <span class="o">(</span><span class="m">4</span> or <span class="m">5</span><span class="o">)</span>:
<span class="m">5</span>
Enter your PlayStation IP <span class="o">(</span>form should be xxx.xxx.xxx.xxx like <span class="m">192</span>.168.1.16<span class="o">)</span>:
<span class="m">192</span>.168.1.16

Choose your default mode
fullscreen <span class="o">[</span>black bars, aspect ratio maintained<span class="o">]</span>
zoom <span class="o">[</span>no black bars, aspect ratio maintained, edges of image cut off by zoom<span class="o">]</span>
stretch <span class="o">[</span>no black bars, aspect ratio slightly distorted<span class="o">])</span>:
zoom

Would you like to <span class="nb">test</span> the newly created script? <span class="o">(</span>y/n<span class="o">)</span>:
y
sounds good, launching script now...
<span class="o">[</span>I<span class="o">]</span> Logging to file /home/deck/.var/app/re.chiaki.Chiaki4deck/data/Chiaki/Chiaki/log/chiaki_session_2022-08-26_20-47-45-787787.log
<span class="o">[</span>I<span class="o">]</span> Chiaki Version <span class="m">2</span>.1.1
<span class="o">[</span>I<span class="o">]</span> Using hardware decoder <span class="s2">&quot;vaapi&quot;</span>
<span class="o">[</span>I<span class="o">]</span> Controller <span class="m">0</span> opened: <span class="s2">&quot;Microsoft X-Box 360 pad 0 (03000000de280000ff11000001000000)&quot;</span>
<span class="o">[</span>I<span class="o">]</span> Starting session request <span class="k">for</span> PS5
<span class="o">[</span>I<span class="o">]</span> Trying to request session from <span class="m">192</span>.168.1.16:9295
<span class="o">[</span>I<span class="o">]</span> Connected to <span class="m">192</span>.168.1.16:9295
<span class="o">[</span>I<span class="o">]</span> Sending session request
<span class="o">[</span>I<span class="o">]</span> Session request successful
<span class="o">[</span>I<span class="o">]</span> OpenGL initialized with version <span class="s2">&quot;4.6 (Core Profile) Mesa 21.3.9 (git-78c96ae5b6)&quot;</span>
<span class="o">[</span>I<span class="o">]</span> Starting ctrl
<span class="o">[</span>I<span class="o">]</span> Ctrl connected to <span class="m">192</span>.168.1.16:9295
<span class="o">[</span>I<span class="o">]</span> Sending ctrl request
<span class="o">[</span>I<span class="o">]</span> Ctrl received http header as response
<span class="o">[</span>I<span class="o">]</span> Ctrl received ctrl request http response
<span class="o">[</span>I<span class="o">]</span> Ctrl got Server Type: <span class="m">2</span>
<span class="o">[</span>I<span class="o">]</span> Ctrl connected
<span class="o">[</span>I<span class="o">]</span> Ctrl received Login message: success
<span class="o">[</span>I<span class="o">]</span> Ctrl received valid Session Id: 1661572067T6G6FWJVE2I4HFLJXLBJJP7KVQSBE72L6IUXSRDUOVZIQOFPSK5TKQFNJHDUA6H4
<span class="o">[</span>I<span class="o">]</span> Starting Senkusha
<span class="o">[</span>I<span class="o">]</span> Takion connecting <span class="o">(</span>version <span class="m">7</span><span class="o">)</span>
<span class="o">[</span>I<span class="o">]</span> Takion enabled Don<span class="err">&#39;</span>t Fragment Bit
<span class="o">[</span>I<span class="o">]</span> Takion sent init
<span class="o">[</span>W<span class="o">]</span> Received Ctrl Message with unknown <span class="nb">type</span> 0x16
<span class="o">[</span>I<span class="o">]</span> Takion received init ack with remote tag 0xb18ccf, outbound streams: 0x64, inbound streams: 0x64
<span class="o">[</span>W<span class="o">]</span> offset <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span>  a  b  c  d  e  f  0123456789abcdef
<span class="o">[</span>W<span class="o">]</span>      <span class="m">0</span> <span class="m">01</span> ff                                           ..
<span class="o">[</span>I<span class="o">]</span> Takion sent cookie
<span class="o">[</span>I<span class="o">]</span> Takion received cookie ack
<span class="o">[</span>I<span class="o">]</span> Takion connected
<span class="o">[</span>I<span class="o">]</span> Senkusha sending big
<span class="o">[</span>I<span class="o">]</span> Senkusha successfully received bang
<span class="o">[</span>I<span class="o">]</span> Senkusha Ping Test with count <span class="m">10</span> starting
<span class="o">[</span>I<span class="o">]</span> Senkusha enabled <span class="nb">echo</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">0</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.073 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">1</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">3</span>.905 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">2</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">3</span>.618 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">3</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">3</span>.649 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">4</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.024 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">5</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.538 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">6</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.150 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">7</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">3</span>.719 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">8</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.631 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sending Ping <span class="m">9</span> of <span class="nb">test</span> index <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received Pong, <span class="nv">RTT</span> <span class="o">=</span> <span class="m">3</span>.804 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha disabled <span class="nb">echo</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha determined average <span class="nv">RTT</span> <span class="o">=</span> <span class="m">4</span>.011 ms
<span class="o">[</span>I<span class="o">]</span> Senkusha starting MTU <span class="k">in</span> <span class="nb">test</span> with min <span class="m">576</span>, max <span class="m">1454</span>, retries <span class="m">3</span>, timeout <span class="m">20</span> ms
<span class="o">[</span>I<span class="o">]</span> Senkusha MTU request <span class="m">1454</span> <span class="o">(</span>min <span class="m">576</span>, max <span class="m">1454</span><span class="o">)</span>, id <span class="m">1</span>, attempt <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha MTU <span class="m">1454</span> success
<span class="o">[</span>I<span class="o">]</span> Senkusha determined inbound MTU <span class="m">1454</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha starting MTU out <span class="nb">test</span> with min <span class="m">576</span>, max <span class="m">1454</span>, retries <span class="m">3</span>, timeout <span class="m">20</span> ms
<span class="o">[</span>I<span class="o">]</span> Senkusha sent initial client MTU <span class="nb">command</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha received expected Client MTU Command
<span class="o">[</span>I<span class="o">]</span> Senkusha MTU <span class="m">1454</span> out ping attempt <span class="m">0</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha MTU ping <span class="m">1454</span> success
<span class="o">[</span>I<span class="o">]</span> Senkusha determined outbound MTU <span class="m">1454</span>
<span class="o">[</span>I<span class="o">]</span> Senkusha sending final Client MTU Command
<span class="o">[</span>I<span class="o">]</span> Senkusha is disconnecting
<span class="o">[</span>I<span class="o">]</span> Senkusha closed takion
<span class="o">[</span>I<span class="o">]</span> Senkusha completed successfully
<span class="o">[</span>I<span class="o">]</span> Takion connecting <span class="o">(</span>version <span class="m">12</span><span class="o">)</span>
<span class="o">[</span>I<span class="o">]</span> Takion sent init
<span class="o">[</span>I<span class="o">]</span> Takion received init ack with remote tag 0x7033129, outbound streams: 0x64, inbound streams: 0x64
<span class="o">[</span>I<span class="o">]</span> Takion sent cookie
<span class="o">[</span>I<span class="o">]</span> Takion received cookie ack
<span class="o">[</span>I<span class="o">]</span> Takion connected
<span class="o">[</span>I<span class="o">]</span> StreamConnection sending big
<span class="o">[</span>I<span class="o">]</span> BANG received
<span class="o">[</span>I<span class="o">]</span> <span class="o">[</span>I<span class="o">]</span> StreamConnection successfully received bang
Crypt has become available. Re-checking MACs of <span class="m">0</span> packets
<span class="o">[</span>W<span class="o">]</span> Received Ctrl Message with unknown <span class="nb">type</span> 0x41
<span class="o">[</span>D<span class="o">]</span> StreamConnection received audio header:
<span class="o">[</span>W<span class="o">]</span> offset <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span>  a  b  c  d  e  f  0123456789abcdef
<span class="o">[</span>D<span class="o">]</span> offset <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span>  a  b  c  d  e  f  0123456789abcdef
<span class="o">[</span>W<span class="o">]</span>      <span class="m">0</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span> <span class="m">02</span> <span class="m">01</span> <span class="m">00</span> <span class="m">00</span>                         ........
<span class="o">[</span>D<span class="o">]</span>      <span class="m">0</span> <span class="m">02</span> <span class="m">10</span> <span class="m">00</span> <span class="m">00</span> bb <span class="m">80</span> <span class="m">00</span> <span class="m">00</span> <span class="m">01</span> e0 <span class="m">00</span> <span class="m">00</span> <span class="m">00</span> <span class="m">01</span>       ..............
<span class="o">[</span>I<span class="o">]</span> Audio Header:
<span class="o">[</span>I<span class="o">]</span>   <span class="nv">channels</span> <span class="o">=</span> <span class="m">2</span>
<span class="o">[</span>I<span class="o">]</span>   <span class="nv">bits</span> <span class="o">=</span> <span class="m">16</span>
<span class="o">[</span>I<span class="o">]</span>   <span class="nv">rate</span> <span class="o">=</span> <span class="m">48000</span>
<span class="o">[</span>I<span class="o">]</span>   frame <span class="nv">size</span> <span class="o">=</span> <span class="m">480</span>
<span class="o">[</span>I<span class="o">]</span>   <span class="nv">unknown</span> <span class="o">=</span> <span class="m">1</span>
<span class="o">[</span>I<span class="o">]</span> ChiakiOpusDecoder initialized
<span class="o">[</span>I<span class="o">]</span> Audio Device alsa_output.pci-0000_04_00.5-platform-acp5x_mach.0.HiFi__hw_acp5x_1__sink opened with <span class="m">2</span> channels @ <span class="m">48000</span> Hz, buffer size <span class="m">19200</span>
<span class="o">[</span>I<span class="o">]</span> Video Profiles:
<span class="o">[</span>I<span class="o">]</span>   <span class="m">0</span>: 1920x1080
<span class="o">[</span>I<span class="o">]</span> StreamConnection successfully received streaminfo
<span class="o">[</span>I<span class="o">]</span> Switched to profile <span class="m">0</span>, resolution: 1920x1080
<span class="o">[</span>I<span class="o">]</span> Ctrl received Heartbeat, sending reply
<span class="o">[</span>I<span class="o">]</span> Ctrl received Heartbeat, sending reply
<span class="o">[</span>I<span class="o">]</span> StreamConnection is disconnecting
<span class="o">[</span>I<span class="o">]</span> StreamConnection sending Disconnect
<span class="o">[</span>I<span class="o">]</span> StreamConnection was requested to stop
<span class="o">[</span>I<span class="o">]</span> StreamConnection closed takion
<span class="o">[</span>I<span class="o">]</span> StreamConnection completed successfully
<span class="o">[</span>I<span class="o">]</span> Ctrl requested to stop
<span class="o">[</span>I<span class="o">]</span> Ctrl stopped
<span class="o">[</span>I<span class="o">]</span> Session has quit
    .__    .__        __   .__   _____     .___             __
____ <span class="p">|</span>  <span class="p">|</span>__ <span class="p">|</span>__<span class="p">|</span>____  <span class="p">|</span>  <span class="p">|</span> _<span class="p">|</span>__<span class="p">|</span> /  <span class="p">|</span>  <span class="p">|</span>  __<span class="p">|</span> _/____   ____ <span class="p">|</span>  <span class="p">|</span> __
_/ ___<span class="se">\|</span>  <span class="p">|</span>  <span class="se">\|</span>  <span class="se">\_</span>_  <span class="se">\ </span><span class="p">|</span>  <span class="p">|</span>/ /  <span class="p">|</span>/   <span class="p">|</span>  <span class="p">|</span>_/ __ <span class="p">|</span>/ __ <span class="se">\_</span>/ ___<span class="se">\|</span>  <span class="p">|</span>/ /
<span class="se">\ </span> <span class="se">\_</span>__<span class="p">|</span>   Y  <span class="se">\ </span> <span class="p">|</span>/ __ <span class="se">\|</span>    &lt;<span class="p">|</span>  /    ^   / /_/ <span class="se">\ </span> ___/<span class="se">\ </span> <span class="se">\_</span>__<span class="p">|</span>    &lt;
<span class="se">\_</span>__  &gt;___<span class="p">|</span>  /__<span class="o">(</span>____  /__<span class="p">|</span>_ <span class="se">\_</span>_<span class="se">\_</span>___   <span class="p">|</span><span class="se">\_</span>___ <span class="p">|</span><span class="se">\_</span>__  &gt;<span class="se">\_</span>__  &gt;__<span class="p">|</span>_ <span class="se">\</span>
    <span class="se">\/</span>     <span class="se">\/</span>        <span class="se">\/</span>     <span class="se">\/</span>       <span class="p">|</span>__<span class="p">|</span>     <span class="se">\/</span>    <span class="se">\/</span>     <span class="se">\/</span>     <span class="se">\/</span>
                    .__        __             .___._.
______ ___________<span class="p">|</span>__<span class="p">|</span>______/  <span class="p">|</span>_  ____   __<span class="p">|</span> _/<span class="p">|</span> <span class="p">|</span>
/  ___// ___<span class="se">\_</span>  __ <span class="se">\ </span> <span class="se">\_</span>___ <span class="se">\ </span>  __<span class="se">\/</span> __ <span class="se">\ </span>/ __ <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>
<span class="se">\_</span>__ <span class="se">\ </span> <span class="se">\_</span>__<span class="p">|</span>  <span class="p">|</span> <span class="se">\/</span>  <span class="p">|</span>  <span class="p">|</span>_&gt; &gt;  <span class="p">|</span> <span class="se">\ </span> ___// /_/ <span class="p">|</span>  <span class="se">\|</span>
/____  &gt;<span class="se">\_</span>__  &gt;__<span class="p">|</span>  <span class="p">|</span>__<span class="p">|</span>   __/<span class="p">|</span>__<span class="p">|</span>  <span class="se">\_</span>__  &gt;____ <span class="p">|</span>  __
    <span class="se">\/</span>     <span class="se">\/</span>         <span class="p">|</span>__<span class="p">|</span>             <span class="se">\/</span>     <span class="se">\/</span>  <span class="se">\/</span>
</code></pre></div>
</details>
</li>
</ol>
</div>
<div class="tabbed-block">
<ol>
<li>
<p>Get your console nickname</p>
<ol>
<li>
<p>It was the nickname listed with your console in the console widget. It can also be obtained with</p>
<div class="highlight"><pre><span></span><code>flatpak run re.chiaki.Chiaki4deck list
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>Host: PS5-012
</code></pre></div>
<p>In this example, the console nickname is <code>PS5-012</code>, please use your nickname</p>
</details>
</li>
</ol>
</li>
<li>
<p>Get your remote play registration key</p>
<ol>
<li>
<p>Run the following command in your console</p>
<div class="highlight"><pre><span></span><code>cat ~/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki.conf <span class="p">|</span> grep regist_key <span class="p">|</span> cut -d <span class="s1">&#39;(&#39;</span> -f2 <span class="p">|</span> cut -d <span class="s1">&#39;\&#39;</span> -f1
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>2ebf539d
</code></pre></div>
</details>
<div class="admonition note">
<p class="admonition-title">Chiaki Configuration File</p>
<p>This command is printing the Chiaki configuration file generated when you ran <code>chiaki4deck</code> for the first time. This is where the flatpak version of Chiaki saves your settings and details. In fact, all flatpaks store their details with the ~/.var/app/app_id pattern. If you want to look at the file itself and get the value you can open the file at <code>/home/deck/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki.conf</code> and look for the remote play registration key [<code>rp_regist_key</code>].</p>
</div>
</li>
</ol>
</li>
<li>
<p>Choose your <a href="../../updates/done/#3-view-modes-for-non-standard-screen-sizes" rel="noopener noreferrer" target="_blank">default launch option</a> (fullscreen, zoom, or stretch)</p>
<ul>
<li>
<p>fullscreen: A full screen picture with black bars, aspect ratio maintained</p>
</li>
<li>
<p>zoom: A full screen zoomed picture with no black bars, aspect ratio maintained, edges of image cut off by zoom</p>
</li>
<li>
<p>stretch: A full screen stretched picture with no black bars, aspect ratio slightly distorted by vertical [in the case of Steam Deck] stretch</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Default Launch Option</p>
<p>This is the option remote play will launch with. You can always toggle to a different option by using the <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-s">S</kbd></span> (toggles between stretch and normal) and <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-z">Z</kbd></span> (toggles between zoom and normal) options which should be set if desired in the Steam controller configuration for the game. See <a href="../controlling/" rel="noopener noreferrer" target="_blank">Controller Configuration Section</a> for more details.</p>
</div>
</li>
<li>
<p>Create a new blank file located in the folder <code>/home/deck/.var/app/re.chiaki.Chiaki4deck/config/Chiaki</code> named  <code>Chiaki-launcher.sh</code></p>
<div class="highlight"><pre><span></span><code>touch <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki-launcher.sh&quot;</span>
</code></pre></div>
</li>
<li>
<p>Open the <code>/home/deck/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki-launcher.sh</code> file in your favorite editor and save the following output.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">set</span> -Eeo pipefail

connect_error<span class="o">()</span>
<span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">&quot;Error: Couldn&#39;t connect to PlayStation console!&quot;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
    <span class="nb">echo</span> <span class="s2">&quot;Please check that your Steam Deck and PlayStation are on the same network and you have the right PlayStation IP Address!&quot;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
    <span class="nb">exit</span> <span class="m">1</span>
<span class="o">}</span>

<span class="c1"># Print connect error message and exit if a failure occurs connecting to the console.</span>
<span class="nb">trap</span> connect_error ERR

<span class="c1"># Wake up console from sleep/rest mode (must be either on or in sleep/rest mode for this to work)</span>
flatpak run re.chiaki.Chiaki4deck wakeup -&lt;playstation_console&gt; -h &lt;console_ip&gt; -r &lt;remote_play_registration_key&gt;
sleep <span class="m">1</span>
<span class="c1"># wait for PlayStation to return one successful packet, exit script on error if it never happens</span>
ping -c <span class="m">1</span> -w <span class="m">20</span> &lt;console_ip&gt; <span class="p">&amp;</span>&gt;/dev/null
sleep <span class="m">1</span>

<span class="c1"># Chiaki handles its own errors, so unsetting trap here.</span>
<span class="nb">trap</span> - ERR

<span class="c1"># Begin playing PlayStation remote play via Chiaki on your Steam Deck :)</span>
flatpak run re.chiaki.Chiaki4deck --&lt;launch_option&gt; stream &lt;console_nickname&gt; &lt;console_ip&gt;
</code></pre></div>
</li>
<li>
<p>Edit the <code>/home/deck/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki-launcher.sh</code> file, replacing the following values for your values:</p>
<ol>
<li>
<p><code>&lt;console_ip&gt;</code></p>
</li>
<li>
<p><code>&lt;console_nickname&gt;</code></p>
</li>
<li>
<p><code>&lt;remote_play_registration_key&gt;</code></p>
</li>
<li>
<p><code>&lt;launch_option&gt;</code></p>
</li>
<li>
<p><code>&lt;playstation_console&gt;</code> (either 4 or 5)</p>
</li>
</ol>
<details class="example" open="open">
<summary>Example Script with "fake" values [yours will be different]</summary>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">set</span> -Eeo pipefail

connect_error<span class="o">()</span>
<span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">&quot;Error: Couldn&#39;t connect to PlayStation console!&quot;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
    <span class="nb">echo</span> <span class="s2">&quot;Please check that your Steam Deck and PlayStation are on the same network and you have the right PlayStation IP Address!&quot;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
    <span class="nb">exit</span> <span class="m">1</span>
<span class="o">}</span>

<span class="c1"># Print connect error message and exit if a failure occurs connecting to the console.</span>
<span class="nb">trap</span> connect_error ERR

<span class="c1"># Wake up console from sleep/rest mode (must be either on or in sleep/rest mode for this to work)</span>
flatpak run re.chiaki.Chiaki4deck wakeup -5 -h <span class="m">192</span>.168.1.16 -r 2ebf539d
sleep <span class="m">1</span>
<span class="c1"># wait for PlayStation to return one successful packet, exit script on error if it never happens</span>
ping -c <span class="m">1</span> -w <span class="m">20</span> <span class="m">192</span>.168.1.16 <span class="p">&amp;</span>&gt;/dev/null
sleep <span class="m">1</span>

<span class="c1"># Chiaki handles its own errors, so unsetting trap here.</span>
<span class="nb">trap</span> - ERR

<span class="c1"># Begin playing PlayStation remote play via Chiaki on your Steam Deck :)</span>
flatpak run re.chiaki.Chiaki4deck --zoom stream PS5-012 <span class="m">192</span>.168.1.16
</code></pre></div>
</details>
</li>
<li>
<p>Make the script executable:</p>
<div class="highlight"><pre><span></span><code>chmod +x <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki-launcher.sh&quot;</span>
</code></pre></div>
</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Test your newly created script (if you haven't already) by running:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.var/app/re.chiaki.Chiaki4deck/config/Chiaki/Chiaki-launcher.sh&quot;</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Your script worked!</label><label for="__tabbed_2_2">Your script didn't work...</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="admonition success">
<p class="admonition-title">We have liftoff! <img alt="🚀" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f680.svg" title=":rocket:" /></p>
<p>Chiaki launched in your desired screen mode on your Steam Deck! Congratulations!</p>
</div>
</div>
<div class="tabbed-block">
<div class="admonition error">
<p class="admonition-title">You are no longer on the happy path <img alt="😩" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f629.svg" title=":weary:" /></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Script fails before launching stream window</label><label for="__tabbed_3_2">Error in stream window</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Check the error and fix issues if obvious. Otherwise, things to check:</p>
<ol>
<li>
<p>Make sure your PlayStation console is in either rest/sleep mode or on (otherwise this won't work)</p>
</li>
<li>
<p>Double check the values you entered in the script to make sure they are correct.</p>
</li>
<li>
<p>Open your script at: <code>/home/deck/.var/app/re.chiaki.Chiaki4deck/config/Chiaki</code> and try to run each command individually to see what's causing your problem.</p>
</li>
<li>
<p>If issues persist with this and <code>chiaki4deck</code> launches fine regularly via the application link, just not the automation, feel free to reach out. If you think the documentation itself needs to be updated click the <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg></span> underneath "Was this page helpful?" and open the feedback form for this page. If you just need help, you can reach me via <a href="https://www.reddit.com/message/compose/?to=Street_Pea_6693" rel="noopener noreferrer" target="_blank">Reddit</a> or <a href="mailto:streetpea@proton.me">email</a></p>
</li>
</ol>
</div>
<div class="tabbed-block">
<p>Make sure your PlayStation console is in either rest/sleep mode or on (otherwise this won't work). If issues persist, feel free to reach out via <a href="https://www.reddit.com/message/compose/?to=Street_Pea_6693" rel="noopener noreferrer" target="_blank">Reddit</a> or <a href="mailto:streetpea@proton.me">email</a>. If you think the documentation itself needs to be updated click the <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg></span> underneath "Was this page helpful?" and open the feedback form for this page.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</li>
</ol>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 1, 2022</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 1, 2022</span>
      
    
  </small>
</div>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
                Thanks for your feedback!
              
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
                Thanks for your feedback! Help me improve this page by using my <a href="https://github.com/streetpea/chiaki4deck/issues/new/?title=[Feedback]+Automation+-+/setup/automation/" target="_blank" rel="noopener">feedback form</a>.
              
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../configuration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Configuration" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Configuration
            </div>
          </div>
        </a>
      
      
        
        <a href="../steaming/" class="md-footer__link md-footer__link--next" aria-label="Next: Game (Mode) Time" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Game (Mode) Time
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Street Pea – <a href="#__consent">Change cookie settings</a>
favicon: images/chiaki.svg logo: images/chiaki.svg features:
  - content.tabs.link

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/streetpea/chiaki4deck" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.reddit.com/u/Street_Pea_6693/?utm_source=share&utm_medium=ios_app&utm_name=iossmf" target="_blank" rel="noopener" title="www.reddit.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  



  

<h4>Cookie consent</h4>
<p>I use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of my documentation and whether users find what they're searching for. With your consent, you're helping me to make my documentation better.</p>
<input type="checkbox" class="md-toggle" id="__settings">
<div class="md-consent__settings">
  <ul class="task-list">
    
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);console.log(new FormData(form)),__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.sections", "navigation.expand", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.share", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>